(function(e){function t(t){for(var a,s,c=t[0],i=t[1],u=t[2],d=0,f=[];d<c.length;d++)s=c[d],n[s]&&f.push(n[s][0]),n[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,c=1;c<r.length;c++){var i=r[c];0!==n[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},n={app:0},o=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=i;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("64a9"),n=r.n(a);n.a},"14f3":function(e,t,r){},"33ec":function(e,t,r){},4389:function(e,t,r){"use strict";var a=r("e60c"),n=r.n(a);n.a},"4b45":function(e,t,r){"use strict";var a=r("33ec"),n=r.n(a);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/admin"}},[e._v("admin")]),e._v(" |\n    "),r("router-link",{attrs:{to:"/"}},[e._v("fp´s favoriter")])],1),r("router-view")],1)},o=[],s=(r("034f"),r("2877")),c={},i=Object(s["a"])(c,n,o,!1,null,null,null),u=i.exports,l=r("8c4f"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("Channel"),r("Program"),r("PoddFile")],1)},f=[],m={},p=m,h=(r("cccb"),Object(s["a"])(p,d,f,!1,null,null,null)),g=h.exports,v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("h1",[e._v("FP´s Favourites")]),r("FavProg")],1)},P=[],_={},y=Object(s["a"])(_,v,P,!1,null,null,null),w=y.exports;a["a"].use(l["a"]);var b=new l["a"]({routes:[{path:"/admin",name:"home",component:g},{path:"/",name:"about",component:w}]}),C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"channel"}},[r("h1",[e._v("Channel Component")]),r("p",[e._v("favChannels_id:  "+e._s(e.favChannels)+" ")]),r("div",e._l(e.channels,function(t){return r("p",{key:t.id},[r("img",{attrs:{src:t.image,alt:""},on:{click:function(r){return e.changeChannelId(t.id)}}}),e._v("    "+e._s(t.name)+"\n           "),r("span",{on:{click:function(r){return e.addToFavChannel(t.id)}}},[e._v(" + ")])])}),0)])},k=[],x=(r("96cf"),r("3b8d")),I=r("e814"),O=r.n(I),S=(r("ac6a"),r("f499")),j=r.n(S),F={data:{favChannels:[],channelId:[132],programs:[],programId:[4058],podfiles:[],favProg:[],favPrograms:[]},methods:{syncFavProgram:function(){var e=JSON.parse(localStorage.favProg);F.data.favProg=e},addFavProgram:function(e){var t=F.data.favProg.indexOf(e);-1===t&&F.data.favProg.push(e),localStorage.favProg="",localStorage.favProg=j()(F.data.favProg),F.methods.getFavPrograms()},getFavPrograms:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="http://api.sr.se/api/v2/programs/?format=json&pagination=false",e.next=3,F.methods.getData(t);case 3:r=e.sent.programs,F.data.favPrograms.splice(0),r.forEach(function(e){for(var t in F.data.favProg)F.data.favProg[t]==e.id&&F.data.favPrograms.push(e)});case 6:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),addFavChannel:function(e){var t=F.data.favChannels.indexOf(e);-1===t&&F.data.favChannels.push(e)},getChannelId:function(){return F.data.channelId[0]},changeChannelId:function(e){F.data.channelId.pop(),F.data.channelId.push(e),F.methods.getPrograms()},getPrograms:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="https://api.sr.se/api/v2/programs/index?pagination=false&format=json&channelid="+F.data.channelId[0],e.next=3,F.methods.getData(t);case 3:r=e.sent.programs,F.data.programs.splice(0),r.forEach(function(e){F.data.programs.push(e)});case 6:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),getPodfiles:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="https://api.sr.se/api/v2/podfiles?size=20&format=json&programid="+F.data.programId[0],e.next=3,F.methods.getData(t);case 3:r=e.sent.podfiles,F.data.podfiles.splice(0),r.forEach(function(e){F.data.podfiles.push(e)});case 6:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),setProgramId:function(e){F.data.programId.pop(),F.data.programId.push(O()(e)),F.methods.getPodfiles()},getData:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.next=5,r.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}},V=F,E={data:function(){return{channelId:12,channels:[],favChannels:V.data.favChannels}},methods:{addToFavChannel:function(e){V.methods.addFavChannel(e)},changeChannelId:function(e){V.methods.changeChannelId(e)}},created:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="https://api.sr.se/api/v2/channels?format=json&pagination=false",e.next=3,V.methods.getData(t);case 3:r=e.sent,this.channels=r.channels;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},L=E,R=(r("90a2"),Object(s["a"])(L,C,k,!1,null,"32202f96",null)),$=R.exports,q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"program"}},[r("h1",[e._v("Program Component")]),e._v("\n     channelId:  "+e._s(e.channelId)+" "),r("br"),e._v(" programId: "+e._s(e.programId)+" "),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"sök program"},domProps:{value:e.searchValue},on:{keydown:[function(t){return t.type.indexOf("key")||13===t.keyCode?e.selectProgram(t):null},function(t){return t.type.indexOf("key")||39===t.keyCode||40===t.keyCode?e.arrowSelect(t):null}],input:function(t){t.target.composing||(e.searchValue=t.target.value)}}}),r("hr"),e._l(e.filteredPrograms,function(t){return r("div",{key:t.id,staticClass:"programs",attrs:{id:t.id},on:{click:function(r){return e.selectProgram(t.id)}}},[r("span",[r("img",{attrs:{src:t.programimage,alt:""}}),e._v("  "+e._s(t.name)+"  ")]),r("button",{on:{click:function(r){return e.saveFav(e.ev,t.id)}}},[e._v(" + ")])])})],2)},N=[],D=(r("386d"),r("7f7f"),r("4917"),{data:function(){return{programs:V.data.programs,channelId:V.data.channelId,programId:V.data.programId,searchValue:"",count:0}},created:function(){V.methods.getPrograms()},computed:{filteredPrograms:function(){var e=this;return this.programs.filter(function(t){return t.name.toLowerCase().match(e.searchValue.toLowerCase())})}},methods:{saveFav:function(e,t){window.event.stopPropagation(),V.methods.addFavProgram(t)},searchPrograms:function(){var e=this;this.results=this.programs.filter(function(t){if(""!=e.searchValue){var r=t.name.toLowerCase().search(e.searchValue.toLowerCase());if(-1!=r)return t}})},arrowSelect:function(){var e=document.getElementsByClassName("programs");document.querySelector(".selected")&&document.querySelector(".selected").classList.remove("selected"),e[this.count].classList.add("selected"),this.count++,this.count>e.length-1&&(this.count=0)},selectProgram:function(e){if(O()(e)===e)V.methods.setProgramId(e);else if(document.querySelector(".selected")){var t=document.querySelector(".selected").id;V.methods.setProgramId(t)}}}}),T=D,B=(r("84fc"),Object(s["a"])(T,q,N,!1,null,"112799e5",null)),M=B.exports,J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"poddFile"}},[r("div",{staticClass:"allPodFiles"},e._l(e.podfiles,function(t){return r("div",{key:t.id},[r("h3",[e._v(" "+e._s(t.title)+" ")]),r("audio",{attrs:{src:t.url}}),r("audio",{attrs:{controls:""}},[r("source",{attrs:{src:t.url,type:"audio/mpeg"}}),e._v("\n                    Your browser does not support the audio element.\n                ")]),r("p",[e._v(" "+e._s(Date(t.publishdateutc))+" ")])])}),0)])},z=[],Y={data:function(){return{programId:V.data.programId,podfiles:V.data.podfiles}},created:function(){V.methods.getPodfiles()}},A=Y,G=Object(s["a"])(A,J,z,!1,null,"aeac3572",null),H=G.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"favProg"}},[r("hr"),r("div",{staticClass:"menuButton",on:{click:function(t){return e.toggle("allPrograms")}}},[e._v(" ≡ "),r("small",[e._v("Program")])]),e.programShow?r("div",{attrs:{id:"allPrograms"}},e._l(e.favPrograms,function(t){return r("div",{key:t.id,staticClass:"programs",on:{click:function(r){return e.setProgramId(t.id,t.name)}}},[r("span",[r("img",{attrs:{src:t.programimage,alt:""}}),e._v(" "+e._s(t.name)+" ")])])}),0):e._e(),r("br"),r("br"),r("div",{staticClass:"menuButton",staticStyle:{"font-size":"23px"},on:{click:function(t){return e.toggleProgramSearch()}}},[e._v("🔎 +")]),e.ps?r("div",[r("ProgramSearch")],1):e._e(),r("hr"),r("h1",[e._v(" "+e._s(e.programName)+" ")]),r("PoddFile")],1)},Q=[],U={data:function(){return{favProg:V.data.favProg,favPrograms:V.data.favPrograms,programName:"",ps:!1,programShow:!0}},beforeCreate:function(){V.methods.syncFavProgram()},created:function(){var e=Object(x["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:V.methods.getFavPrograms();case 1:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{toggleProgramSearch:function(){this.ps=!this.ps},setProgramId:function(e,t){V.methods.setProgramId(e),this.programName=t,this.toggle("allPrograms")},toggle:function(){this.programShow=!this.programShow}}},W=U,X=(r("4b45"),Object(s["a"])(W,K,Q,!1,null,"0462f207",null)),Z=X.exports,ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"program"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"sök program"},domProps:{value:e.searchValue},on:{keydown:[function(t){return t.type.indexOf("key")||13===t.keyCode?e.selectProgram(t):null},function(t){return t.type.indexOf("key")||39===t.keyCode||40===t.keyCode?e.arrowSelect(t):null}],input:function(t){t.target.composing||(e.searchValue=t.target.value)}}}),r("hr"),e._l(e.filteredPrograms,function(t){return r("div",{key:t.id,staticClass:"programs",attrs:{id:t.id}},[r("span",[r("img",{attrs:{src:t.programimage,alt:""}}),e._v("  "+e._s(t.name)+"  ")]),r("button",{on:{click:function(r){return e.saveFav(e.ev,t.id)}}},[e._v(" + ")])])})],2)},te=[],re={data:function(){return{programs:V.data.programs,channelId:V.data.channelId,programId:V.data.programId,searchValue:"",count:0}},created:function(){V.methods.getPrograms()},computed:{filteredPrograms:function(){var e=this;return this.programs.filter(function(t){return t.name.toLowerCase().match(e.searchValue.toLowerCase())})}},methods:{saveFav:function(e,t){window.event.stopPropagation(),V.methods.addFavProgram(t),V.methods.syncFavProgram()},searchPrograms:function(){var e=this;this.results=this.programs.filter(function(t){if(""!=e.searchValue){var r=t.name.toLowerCase().search(e.searchValue.toLowerCase());if(-1!=r)return t}})},arrowSelect:function(){var e=document.getElementsByClassName("programs");document.querySelector(".selected")&&document.querySelector(".selected").classList.remove("selected"),e[this.count].classList.add("selected"),this.count++,this.count>e.length-1&&(this.count=0)},selectProgram:function(e){if(O()(e)===e)V.methods.setProgramId(e);else if(document.querySelector(".selected")){var t=document.querySelector(".selected").id;V.methods.setProgramId(t)}}}},ae=re,ne=(r("4389"),Object(s["a"])(ae,ee,te,!1,null,"28609786",null)),oe=ne.exports;a["a"].config.productionTip=!1,a["a"].use(b),a["a"].component("Channel",$),a["a"].component("Program",M),a["a"].component("PoddFile",H),a["a"].component("FavProg",Z),a["a"].component("ProgramSearch",oe),new a["a"]({router:b,render:function(e){return e(u)}}).$mount("#app")},"64a9":function(e,t,r){},"84fc":function(e,t,r){"use strict";var a=r("a82a"),n=r.n(a);n.a},"90a2":function(e,t,r){"use strict";var a=r("14f3"),n=r.n(a);n.a},a82a:function(e,t,r){},cccb:function(e,t,r){"use strict";var a=r("d563"),n=r.n(a);n.a},d563:function(e,t,r){},e60c:function(e,t,r){}});
//# sourceMappingURL=app.28a5eeb7.js.map